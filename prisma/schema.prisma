generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider  = "postgresql"
  url       = env("DATABASE_PSQL_PRISMA_DATABASE_URL")
  directUrl = env("DATABASE_PSQL_POSTGRES_URL") // or DATABASE_PSQL_DATABASE_URL, both are valid direct connection strings
}

model User {
  id             String @id @default(cuid())
  name           String
  email          String @unique
  hashedPassword String
}

model MenuCategory {
  id        String     @id @default(cuid())
  title     String
  price     Int
  sortOrder Int        @default(0)
  items     MenuItem[]
}

model MenuItem {
  id         String       @id @default(cuid())
  course     String
  dish       String
  sortOrder  Int          @default(0)
  categoryId String
  category   MenuCategory @relation(fields: [categoryId], references: [id], onDelete: Cascade)
}

model Review {
  id       String  @id @default(cuid())
  name     String
  rating   Int
  comment  String
  date     String
  approved Boolean @default(false)
}

model SiteImage {
  id        String @id @default(cuid())
  filename  String
  path      String
  altText   String @default("")
  section   String @default("general")
  sortOrder Int    @default(0)
}
